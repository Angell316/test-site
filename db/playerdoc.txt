Документация по API плеера
Описание
Благодаря API плеера вы можете получать актуальную информацию во время воспроизведения, а также управлять плеером с помощью javascript на своем сайте. Общение с плеером происходит через функцию postMessage.

Документация разбита на два раздела:

Получение информации
Управление плеером
Получение информации
Для получения информации нужно добавить функцию обработчик входящих сообщений. message.data при этом будет содержать два параметра: key и value.

По параметру key нужно отсеивать необходимую информацию, которую вы хотите обработать. А в value будет уже сама информация. Ниже будет приведена таблица со всеми возможными значениями key.

Пример:

КОПИРОВАТЬ
<script type="text/javascript">
  function kodikMessageListener(message) {
    if (message.data.key == 'kodik_player_time_update') {
      console.log(message.data.value);
    }
  }

  if (window.addEventListener) {
    window.addEventListener('message', kodikMessageListener);
  } else {
    window.attachEvent('onmessage', kodikMessageListener);
  }
</script>
key	value (пример)	Описание
kodik_player_play		Событие начала проигрывания, либо продолжения проигрывания
kodik_player_pause		Событие паузы
kodik_player_seek	
КОПИРОВАТЬ
{
  time: 342.543213
}
Событие перемотки. Указывается время в секундах, на которое была совершена перемотка
kodik_player_time_update	14	Текущее время (в секундах). Обновляется раз в секунду и содержит только округленные значения
kodik_player_duration_update	6531.48	Продолжительность видеоматериала в секундах. Высылается в начале воспроизведения, а также при переключении качества.
kodik_player_video_started		Событие о начале воспроизведения видео
kodik_player_video_ended		Событие об окончании воспроизведения видео
kodik_player_volume_change	
КОПИРОВАТЬ
{
  muted: false,
  volume: 0.47
}
Событие изменение громкости
kodik_player_current_episode	
КОПИРОВАТЬ
{
  episode: 13,
  season: 3,
  translation: {
    id: 718,
    title: "LostFilm"
  }
}
Информация о текущем сезоне, эпизоде и озвучке. Высылается в начале воспроизведения серии. Для кода фильма или кода конкретной серии episode и season будут null
kodik_player_speed_changenew	
КОПИРОВАТЬ
{
  speed: 1.5
}
Событие изменение скорости воспроизведения
kodik_player_skip_button	
КОПИРОВАТЬ
{
  title: "Пропустить опенинг"
}
Событие нажатия на кнопку пропуска опенинга или эндинга. В title передается текст, который был указан на кнопке. Это может быть: "Пропустить опенинг", "Пропустить эндинг", "Пропустить", "Пропустить вступление", "Пропустить титры"
kodik_player_enter_pip		Событие перехода в режим "Картинка в картинке"
kodik_player_exit_pip		Событие выхода из режима "Картинка в картинке"
Управление плеером
Для управления плеером необходимо через postMessage передавать iframe элементу плеера команды в определенном формате.

В передаваемом объекте нужно обязательно указать параметр key равный kodik_player_api, и параметр value, содержание которого уже будет зависеть от того какую именно команду вы хотите передать.

Более подробно все возможные команды будут описаны в таблице ниже.

Пример:

КОПИРОВАТЬ
<iframe id="kodik-player" src="//kodik.cc/serial/37172/55dacb8c87e072e0966bc39ddce66224/720p" width="610" height="370" frameborder="0" allowfullscreen allow="autoplay *; fullscreen *"></iframe>

<script type="text/javascript">
  var kodikIframe = document.getElementById("kodik-player").contentWindow;

  kodikIframe.postMessage({ key: "kodik_player_api", value: { method: "seek", seconds: 67 } }, '*');
</script>
value (пример)	Описание
КОПИРОВАТЬ
{
  method: "play"
}
Запуск плеера (Первоначальный запуск сработает только по действию пользователя. Например при клике на кнопку. Для снятия с паузы действие пользователя не нужно)
КОПИРОВАТЬ
{
  method: "pause"
}
Пауза
КОПИРОВАТЬ
{
  method: "seek",
  seconds: 64
}
Перемотка на заданную точку. Время указывается в секундах
КОПИРОВАТЬ
{
  method: "volume",
  volume: 0.7
}
Изменение громкости. Значение громкости может быть от 0 до 1
КОПИРОВАТЬ
{
  method: "mute"
}
Выключение звука
КОПИРОВАТЬ
{
  method: "unmute"
}
Включение звука
КОПИРОВАТЬ
{
  method: "change_episode",
  season: 5,
  episode: 3
}
Переключение серии. Для плееров сезонов (в которых нет селектора сезонов) season указывать не обязательно. В сериалах же если не передать season , то сезон будет считаться равным текущему. episode указывать обязательно в обоих случаях.
КОПИРОВАТЬ
{
  method: "speed",
  speed: 2,
}
Изменение скорости проигрывания. Значение можно выбрать в интервале от 0.25 до 2. Обычная скорость: 1.new
КОПИРОВАТЬ
{
  method: "enter_pip"
}
Вход в режим "Картинка в картинке" (Работает только по действию пользователя. Например при клике на кнопку)
КОПИРОВАТЬ
{
  method: "exit_pip"
}
Выход из режима "Картинка в картинке"
КОПИРОВАТЬ
{
  method: "get_time"
}
Получение текущего времени. Ответ будет отправлен в событии kodik_player_time (получение аналогично событию kodik_player_time_update, но может быть дробным, например: 615.804453)